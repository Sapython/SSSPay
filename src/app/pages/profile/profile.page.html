<app-header pageName="Home" [backButton]="true" backUrl="../homepage"></app-header>
<ion-content>
  <section>
    <ion-grid>
      <ion-row>
        <ion-col size="12">
          <ion-card id="profile-card">
            <input type="file" #changeProfile (change)="uploadImage($event)" hidden>
            <div class="avatar">
              <ion-avatar (click)="changeProfile.click()">
                <ion-img [src]="dataProvider.userData?.photoURL"> </ion-img>
              </ion-avatar>
              <p>Click to change</p>
            </div>
            <div class="profile_desc">
              <b>{{dataProvider.userData.displayName}}</b>
              <span>{{dataProvider.userData.phoneNumber}}</span>
              <ion-text>{{dataProvider.userData?.email}}</ion-text>
            </div>
            <!-- <div>
              <button class="editbutton" (click)="editMode = !editMode">
                <ion-icon name="pencil-outline"></ion-icon>
              </button>
            </div> -->
          </ion-card>
        </ion-col>
      </ion-row>
      <form [formGroup]="userDataForm" (ngSubmit)="submit()">
        <ion-card>
          <ion-item>
            <ion-label>Name  &nbsp; &nbsp; &nbsp;</ion-label>
            <ion-label *ngIf="!editMode">{{dataProvider.userData.displayName}}</ion-label>
            <ion-input formControlName="displayName" *ngIf="editMode" type="text" placeholder="Name"></ion-input>
          </ion-item>
          <ion-item>
            <ion-label>Email  &nbsp; &nbsp; &nbsp;</ion-label>
            <ion-label *ngIf="!editMode">{{dataProvider.userData.email // 'N/A'}}</ion-label>
            <ion-input formControlName="email" *ngIf="editMode" type="text" placeholder="Email"></ion-input>
          </ion-item>
          <ion-item>
            <ion-label>Phone Number  &nbsp; &nbsp; &nbsp;</ion-label>
            <ion-label *ngIf="!editMode">{{dataProvider.userData.phoneNumber // 'N/A'}}</ion-label>
            <ion-input formControlName="phoneNumber" *ngIf="editMode"  type="text" placeholder="Phone Number"></ion-input>
          </ion-item>
          <ion-item>
            <ion-label>DOB  &nbsp; &nbsp; &nbsp;</ion-label>
            <ion-label>{{dataProvider.userData.dob.toDate() | date}}</ion-label>
          </ion-item>
          <ion-item>
            <ion-label>Gender  &nbsp; &nbsp; &nbsp;</ion-label>
            <ion-label>{{dataProvider.userData.gender}}</ion-label>
          </ion-item>
          <ion-item>
            <ion-label>Access  &nbsp; &nbsp; &nbsp;</ion-label>
            <ion-label>{{dataProvider.userData.access.access}}</ion-label>
          </ion-item>
          <ion-item>
            <ion-label>State  &nbsp; &nbsp; &nbsp;</ion-label>
            <ion-label *ngIf="!editMode">{{dataProvider.userData.state // 'N/A'}}</ion-label>
            <ion-input formControlName="state" *ngIf="editMode" type="text" placeholder="State"></ion-input>
          </ion-item>
          <ion-item>
            <ion-label>City  &nbsp; &nbsp; &nbsp;</ion-label>
            <ion-label *ngIf="!editMode">{{dataProvider.userData.city // 'N/A'}}</ion-label>
            <ion-input formControlName="city" *ngIf="editMode" type="text" placeholder="City"></ion-input>
          </ion-item>
          <ion-item>
            <ion-label>Pin code  &nbsp; &nbsp; &nbsp;</ion-label>
            <ion-label *ngIf="!editMode">{{dataProvider.userData.pincode // 'N/A'}}</ion-label>
            <ion-input formControlName="pincode" *ngIf="editMode" type="text" placeholder="Pin code"></ion-input>
          </ion-item>
          <ion-item>
            <ion-label>Address  &nbsp; &nbsp; &nbsp;</ion-label>
            <ion-label *ngIf="!editMode">{{dataProvider.userData.address // 'N/A'}}</ion-label>
            <ion-input formControlName="address" *ngIf="editMode" type="text" placeholder="Address"></ion-input>
          </ion-item>
          <ion-item>
            <ion-label>Aadhaar Number  &nbsp; &nbsp; &nbsp;</ion-label>
            <ion-label>{{dataProvider.userData.aadhaarNumber // 'N/A'}}</ion-label>
          </ion-item>
          <ion-item>
            <ion-label>Pan Card Number  &nbsp; &nbsp; &nbsp;</ion-label>
            <ion-label>{{dataProvider.userData.panCardNumber // 'N/A'}}</ion-label>
          </ion-item>
          <ion-button *ngIf="editMode" [disabled]="!userDataForm.valid" type="submit" expand="block" fill="solid" shape="round">
            Submit
          </ion-button>
        </ion-card>
      </form>
      <!-- <ion-row>
        <ion-col size="12">
          <ion-card class="setting-card">
            <ion-text class="setting">Settings</ion-text>
            <div id="item-list">
              <div class="item">
                <ion-text>Autopay Settings</ion-text>
                <ion-icon name="chevron-forward-outline"></ion-icon>
              </div>
              <div class="item">
                <ion-text>UPI Settings</ion-text>
                <ion-icon name="chevron-forward-outline"></ion-icon>
              </div>
              <div class="item">
                <ion-text>Set Reminders</ion-text>
                <ion-icon name="chevron-forward-outline"></ion-icon>
              </div>
            </div>
          </ion-card>
          
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size="12">
          <ion-card class="setting-card " routerLink="../languages">
            <div class="card">
              <ion-text>Languages</ion-text>
              <ion-icon name="chevron-forward-outline"></ion-icon>
            </div>
          </ion-card>
          
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size="12">
          <ion-card class="setting-card">
            <ion-text class="setting">Security</ion-text>
            <div id="item-list">
              <div class="item">
                <ion-text>Set Screen Lock</ion-text>
                <ion-icon name="chevron-forward-outline"></ion-icon>
              </div>
              <div class="item">
                <ion-text>Blocked Contacts</ion-text>
                <ion-icon name="chevron-forward-outline"></ion-icon>
              </div>
              
            </div>
          </ion-card>
          
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size="12">
          <ion-card class="setting-card ">
            <div class="card">
              <ion-text>Help</ion-text>
              <ion-icon name="chevron-forward-outline"></ion-icon>
            </div>
          </ion-card>
          
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size="12">
          <ion-card class="setting-card ">
            <div class="card">
              <ion-text>Privacy Police & Trems </ion-text>
              <ion-icon name="chevron-forward-outline"></ion-icon>
            </div>
          </ion-card>
          
        </ion-col>
      </ion-row> -->
      <ion-row>
        <ion-col size="12">
          <ion-card class="setting-card ">
            <div class="card Logout">
              <ion-button fill="clear" color="danger" class="Logout" (click)="authService.logout()">Logout</ion-button>
            </div>
          </ion-card>
        </ion-col>
      </ion-row>
    </ion-grid>
  </section>
</ion-content>